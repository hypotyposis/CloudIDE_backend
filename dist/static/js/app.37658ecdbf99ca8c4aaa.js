/*! For license information please see app.37658ecdbf99ca8c4aaa.js.LICENSE */
webpackJsonp([3],{"+0Qw":function(e,t){},"+Tn7":function(e,t){},"0u1n":function(e,t){},"1O6n":function(e,t){},"4YMn":function(e,t){},"4Yhh":function(e,t){},"5RGO":function(e,t){},"5kgg":function(e,t){},"6nME":function(e,t){},"7Do+":function(e,t){},"84z/":function(e,t){},"8BNP":function(e,t){},"8EM9":function(e,t){},"9vcT":function(e,t){},"EG+O":function(e,t){},Eawl:function(e,t){},Gu5N:function(e,t){},KL86:function(e,t){},KU51:function(e,t){},"L/b2":function(e,t){},LC7R:function(e,t){},LCUL:function(e,t){},MfYP:function(e,t){},MlKm:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("lRwf"),i=o.n(n),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=o("VU/8")({name:"App"},a,!1,function(e){o("4YMn")},null,null).exports,c=o("pRNm"),r=o.n(c),l=o("//Fk"),u=o.n(l),d=o("mvHQ"),h=o.n(d),f=o("pFYg"),m=o.n(f),g=o("Ny4g"),v=(o("TFmH"),o("msNT"),{name:"CodeMirror",props:{language:{type:String,default:"cpp"}},data:function(){return{monacoEditor:{},cinEditor:{},coutEditor:{},fontSize:15,direction:"",uid:"",websocket:null,lockReconnect:!1,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null,codeShareEditor:null,codeShare:!1,loading:!1,codeValueShared:"",posColumnShared:null,posRowShared:null,languages:[{value:"cpp",label:"C++"},{value:"python",label:"Python3"}]}},methods:{onLanguageChange:function(){console.log(this.language,m()(this.language));var e=this.monacoEditor.getModel();console.log("model: ",e),g.d.setModelLanguage(e,this.language)},initCodeShare:function(){var e=this;console.log("init"),this.$nextTick(function(){null==e.codeShareEditor&&(console.log("nextTick..."),e.codeShareEditor=g.d.create(e.$refs.codeShareEditor,{value:e.codeValueShared||"#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void) {\n\n\treturn 0;\n}",readOnly:!0,theme:"vs-light",language:"cpp",fontSize:16,automaticLayout:!0}),e.codeShareEditor.addCommand(g.b.CtrlCmd|g.a.KEY_C,function(){return null}),e.codeShareEditor.onDidChangeCursorSelection(function(){var t=e.codeShareEditor.getPosition(),o=t.column,n=t.lineNumber;console.log({column:o,lineNumber:n}),e.codeShareEditor.setPosition({lineNumber:n,column:o})}))})},buildCodeShare:function(){var e=this;this.codeShareEditor.addCommand(g.b.CtrlCmd|g.a.KEY_C,function(){return console.log("Ctrl C"),null}),this.codeShareEditor.addCommand(g.b.CtrlCmd|g.a.KEY_X,function(){return console.log("Ctrl X"),null}),this.codeShareEditor.onDidChangeCursorSelection(function(){var t=e.codeShareEditor.getPosition(),o=t.column,n=t.lineNumber;console.log({column:o,lineNumber:n}),e.codeShareEditor.setPosition({lineNumber:n,column:o})})},revealCodeShare:function(){console.log("revealCodeShare..."),this.codeShare=!0},handleClose:function(e){var t=this;this.loading||this.$confirm("确定要提交表单吗？").then(function(o){t.loading=!0,t.timer=setTimeout(function(){e(),setTimeout(function(){t.loading=!1},400)},2e3)}).catch(function(e){})},tryws:function(){console.log("close websocket"),this.websocket.close()},initSocket:function(){var e=this,t=new WebSocket("ws://ide-ws.hz.ac-code.com/ws/code/"+this.uid+"/");this.websocket=t,this.websocket.onopen=function(t){console.log("websocket connected");var o={};o.uid=e.uid,o.codeValue=e.monacoEditor.getValue(),o.cinEditor=e.cinEditor.getValue(),o.coutValue=e.coutEditor.getValue(),o.posColumn=e.monacoEditor.getPosition().column,o.posRow=e.monacoEditor.getPosition().lineNumber,console.log(h()(o)),e.websocket.send(h()(o)),e.startHeartbeat()},this.websocket.onclose=function(t){console.log(t.code,t.reason,t.wasClean),e.reconnect()},this.websocket.onmessage=function(t){if(console.log("accept ws message! ",t.data),"Heartbeat Checked"!==t.data){var o;if("new teacher link up!"===(o=JSON.parse(t.data)).message){var n={};return n.uid=e.uid,n.codeValue=e.monacoEditor.getValue(),n.cinValue=e.cinEditor.getValue(),n.coutValue=e.coutEditor.getValue(),n.posColumn=e.monacoEditor.getPosition().column,n.posRow=e.monacoEditor.getPosition().lineNumber,console.log(h()(n)),void e.websocket.send(h()(n))}if("codeShare"===(o=JSON.parse(o.message)).messageType){console.log("receive code share message: ",o.codeValue);var i={encode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))},decode:function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}};e.codeValueShared=i.decode(o.codeValue),e.posColumnShared=o.posColumn,e.posRowShared=o.posRow,null!=e.codeShareEditor&&(e.codeShareEditor.setValue(e.codeValueShared),e.codeShareEditor.setPosition({column:e.posColumnShared,lineNumber:e.posRowShared}))}}else e.resetHeartbeat()},this.websocket.onerror=function(t){console.log(e.websocket.readyState),e.reconnect()}},reconnect:function(){console.log("reconnecting...");var e=this;this.lockReconnect||(this.lockReconnect=!0,this.timeoutnum&&clearTimeout(this.timeoutnum),this.timeoutnum=setTimeout(function(){e.initSocket(),e.lockReconnect=!1},5e3))},startHeartbeat:function(){var e=this,t=3;this.timeoutObj&&clearTimeout(this.timeoutObj),this.serverTimeoutObj&&clearTimeout(this.serverTimeoutObj),this.timeoutObj=setTimeout(function(){1===e.websocket.readyState?e.websocket.send("Heartbeat Check"):(console.log("websocket is disconnected"),e.reconnect()),e.serverTimeoutObj=setTimeout(function(){0===--t&&e.websocket.close()},5e3)},5e3)},resetHeartbeat:function(){clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this.startHeartbeat()},changeFontSize:function(e){if(17===e.keyCode){console.log("ctrl pressed");this.monacoEditor.updateOptions({scrollbar:{alwaysConsumeMouseWheel:!1,handleMouseWheel:!1}}),window.addEventListener("mousewheel",this.handleScroll,!0,{passive:!1})}121===e.keyCode&&(console.log("F10 pressed"),!1===this.codeShare?this.revealCodeShare():this.codeShare=!1)},removeListener:function(e){if(17===e.keyCode){console.log("ctrl unpressed");this.monacoEditor.updateOptions({scrollbar:{alwaysConsumeMouseWheel:!1,handleMouseWheel:!0}}),window.removeEventListener("mousewheel",this.handleScroll,!0,{passive:!1})}},debounce:function(e,t){var o=void 0;return function(){var n=this,i=arguments;o&&clearTimeout(o),o=setTimeout(function(){e.apply(n,i)},t)}},handleScroll:function(e){if(console.log("handleScrolling..."),this.direction=e.deltaY>0?"down":"up","down"==this.direction){this.fontSize=this.fontSize-.5;var t={fontSize:this.fontSize};this.monacoEditor.updateOptions(t)}else if("up"==this.direction){this.fontSize=this.fontSize+.5;var o={fontSize:this.fontSize};this.monacoEditor.updateOptions(o)}e.preventDefault()},submit:function(){var e=this.monacoEditor.getValue();console.log(e);var t=this.cinEditor.getValue(),o=this.language;this.coutEditor.setValue("编译运行中...");var n=this,i=(new Date).valueOf();console.log(i),this.$axios.post("/api/code/",{code:e,cin:t,timestamp:i,language:o}).then(function(e){console.log(e),n.coutEditor.setValue(e.data+"")}).catch(function(e){console.log(e)})}},computed:{socketStatus:function(){return this.websocket.readyState}},created:function(){var e=this;new u.a(function(t,o){e.$axios.post("/api/codemonitor/",{usertype:"student"}).then(function(o){console.log(o.data),e.uid=o.data,t("solved")})}).then(function(t){e.initSocket()})},destroyed:function(){console.log("destroyed..."),this.websocket.close(),window.removeEventListener("keydown",this.changeFontSize),window.removeEventListener("keyup",this.removeListener)},mounted:function(){var e=this;window.addEventListener("keydown",this.changeFontSize),window.addEventListener("keyup",this.removeListener),console.log("creating monacoEditor..."),this.monacoEditor=g.d.create(this.$refs.monacoEditor,{value:"#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void) {\n\n\treturn 0;\n}",readOnly:!1,language:"cpp",theme:"vs-light",fontSize:this.fontSize,folding:!0,scrollbar:{alwaysConsumeMouseWheel:!1,vertical:"hidden"},automaticLayout:!0}),this.monacoEditor.getModel().onDidChangeContent(function(t){console.log("change content"),console.log(t),console.log(e.monacoEditor.getValue());var o={};o.uid=e.uid,o.codeValue=e.monacoEditor.getValue(),o.cinValue=e.cinEditor.getValue(),o.coutValue=e.coutEditor.getValue(),o.posColumn=e.monacoEditor.getPosition().column,o.posRow=e.monacoEditor.getPosition().lineNumber,console.log(h()(o)),e.websocket.send(h()(o))});this.monacoEditor.deltaDecorations([],[{range:new g.c(3,1,5,1),options:{isWholeLine:!0,linesDecorationsClassName:"myLineDecoration"}},{range:new g.c(7,1,7,24),options:{inlineClassName:"myInlineDecoration"}}]);this.cinEditor=g.d.create(this.$refs.cinEditor,{value:"",readOnly:!1,theme:"vs-light",fontSize:14,minimap:{enabled:!1},automaticLayout:!0}),this.cinEditor.getModel().onDidChangeContent(function(t){console.log("change cin content"),console.log(t),console.log(e.cinEditor.getValue());var o={};o.uid=e.uid,o.codeValue=e.monacoEditor.getValue(),o.cinValue=e.cinEditor.getValue(),o.coutValue=e.coutEditor.getValue(),o.posColumn=e.cinEditor.getPosition().column,o.posRow=e.cinEditor.getPosition().lineNumber,console.log(h()(o)),e.websocket.send(h()(o))}),this.coutEditor=g.d.create(this.$refs.coutEditor,{value:"",readOnly:!0,theme:"vs-light",fontSize:14,minimap:{enabled:!1},automaticLayout:!0}),this.coutEditor.getModel().onDidChangeContent(function(t){console.log("change cout content"),console.log(t),console.log(e.coutEditor.getValue());var o={};o.uid=e.uid,o.codeValue=e.monacoEditor.getValue(),o.cinValue=e.cinEditor.getValue(),o.coutValue=e.coutEditor.getValue(),o.posColumn=e.coutEditor.getPosition().column,o.posRow=e.coutEditor.getPosition().lineNumber,console.log(h()(o)),e.websocket.send(h()(o))})}}),p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ide-canvas"},[o("el-drawer",{attrs:{title:"这里是教师分享的代码",visible:e.codeShare,direction:"rtl",size:"70%"},on:{"update:visible":function(t){e.codeShare=t},open:function(t){return e.initCodeShare()},opened:function(t){return e.buildCodeShare()}}},[o("div",{ref:"codeShareEditor",staticStyle:{width:"100%",height:"100%",float:"left"}})]),e._v(" "),o("div",{staticClass:"editor-top-bar",staticStyle:{width:"100%",height:"auto",float:"left",display:"flex","flex-direction":"row"}},[e._m(0),e._v(" "),o("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:e.onLanguageChange},model:{value:e.language,callback:function(t){e.language=t},expression:"language"}},e._l(e.languages,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("div",{staticStyle:{width:"100%",height:"70%"},attrs:{id:"container"}},[o("div",{ref:"monacoEditor",staticStyle:{width:"100%",height:"100%",float:"left"}}),e._v(" "),e._m(1),e._v(" "),o("div",{staticClass:"editor-top-bar",staticStyle:{width:"50%",height:"auto",float:"left"}},[e._m(2),e._v(" "),o("el-button",{staticStyle:{height:"auto",float:"right"},attrs:{id:"submitButton",size:"small"},on:{click:e.submit}},[e._v("编译运行")])],1),e._v(" "),o("div",{staticStyle:{width:"50%",height:"30%",float:"left"},attrs:{id:"input-container"}},[o("div",{ref:"cinEditor",staticStyle:{width:"100%",height:"100%",float:"left"}})]),e._v(" "),o("div",{staticStyle:{width:"50%",height:"30%",float:"left"},attrs:{id:"output-container"}},[o("div",{ref:"coutEditor",staticStyle:{width:"100%",height:"100%",float:"left"}})])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"editor-tab",staticStyle:{"text-align":"center"}},[t("span",{staticStyle:{"font-family":"arial",color:"grey","font-size":"14px"}},[this._v("代码")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"editor-top-bar",staticStyle:{width:"50%",height:"auto",float:"left"}},[t("div",{staticClass:"editor-tab",staticStyle:{float:"left","text-align":"center"}},[t("span",{staticStyle:{"font-family":"arial",color:"grey","font-size":"14px"}},[this._v("输入")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"editor-tab",staticStyle:{float:"left","text-align":"center"}},[t("span",{staticStyle:{"font-family":"arial",color:"grey","font-size":"14px"}},[this._v("输出")])])}]};var S=o("VU/8")(v,p,!1,function(e){o("VwJk")},"data-v-c00cd7fa",null).exports,b=o("Zrlr"),w=o.n(b),E=o("wxAW"),C=o.n(E),y=(function(){function e(){w()(this,e),this.id=0}C()(e,[{key:"getId",value:function(){return this.id++,this.id}}])}(),{data:function(){return{editor:{},fontSize:16,websocket:null,timestamp:0,id:0,signature:"",uid:""}},methods:{getTimeStamp:function(){return this.timeStamp++,this.timeStamp},setTimeStamp:function(e){this.timeStamp=e},updateTimeStamp:function(e){e>this.timeStamp&&(this.timeStamp=e)},getId:function(){return this.id++,this.id}},mounted:function(){var e=this;this.$axios.post("/api/codemonitor/",{usertype:"student"}).then(function(t){console.log(t.data),e.uid=t.data}),this.editor=monaco.editor.create(this.$refs.editor,{value:"#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void) {\n\n\treturn 0;\n}",readOnly:!1,language:"cpp",theme:"vs-light",fontSize:this.fontSize,folding:!0}),this.editor.getModel().onDidChangeContent(function(t){console.log("change content"),console.log(t),console.log(e.editor.getValue()),e.websocket.send(e.editor.getValue())})},created:function(){var e=new WebSocket("ws://localhost:8000/ws/code/");this.websocket=e},computed:function(){}}),k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ide-canvas"},[t("div",{ref:"editor",staticStyle:{width:"100%",height:"100%",float:"left"}})])},staticRenderFns:[]};var V=o("VU/8")(y,k,!1,function(e){o("6nME")},"data-v-0b3e08f8",null).exports,T={data:function(){return{uid:"",fontSize:16,students:[],currentStudent:"",editor:null,cinEditor:null,coutEditor:null,lockReconnect:!1,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null,websocketStatus:"",logMessage:"",statusColor:"green",codeShareEditor:null,codeShare:!1,loading:!1}},methods:{initCodeShare:function(){var e=this;console.log("init"),this.$nextTick(function(){null==e.codeShareEditor&&(console.log("nextTick..."),e.codeShareEditor=monaco.editor.create(e.$refs.codeShareEditor,{value:"#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void) {\n\n\treturn 0;\n}",readOnly:!1,theme:"vs-light",language:"cpp",fontSize:16,automaticLayout:!0}))})},buildCodeListener:function(){var e=this;this.codeShareEditor.getModel().onDidChangeContent(function(t){console.log("change content"),console.log(e.codeShareEditor.getValue());var o={messageType:"codeShare"};o.uid=e.uid;var n=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))};o.codeValue=n(e.codeShareEditor.getValue()),console.log("codeValue in Base64: ",o.codeValue),o.posColumn=e.codeShareEditor.getPosition().column,o.posRow=e.codeShareEditor.getPosition().lineNumber,console.log(h()(o)),e.websocket.send(h()(o))})},revealCodeShare:function(){console.log("revealCodeShare..."),this.codeShare=!0},handleClose:function(e){var t=this;this.loading||this.$confirm("确定要提交表单吗？").then(function(o){t.loading=!0,t.timer=setTimeout(function(){e(),setTimeout(function(){t.loading=!1},400)},2e3)}).catch(function(e){})},updateLogMessage:function(e){var t=(new Date).getTime();t=new Date(t).toLocaleString(),this.logMessage=this.logMessage+t+" "+e+"\n"},setValue:function(){for(var e in console.log("setValue..."),console.log(this.students),this.students)if(console.log(this.students[e][0]),this.students[e][0]==this.currentStudent){console.log("yes!");var t=this.students[e][1],o=this.students[e][2],n=this.students[e][3],i=this.students[e][4],a=this.students[e][5];null!=t?this.editor.setValue(t):this.editor.setValue(""),null!=o?this.cinEditor.setValue(o):this.cinEditor.setValue(""),null!=n?this.coutEditor.setValue(n):this.coutEditor.setValue(""),this.editor.setPosition({column:i,lineNumber:a}),console.log(this.editor.getPosition())}},chooseStudent:function(e){console.log("buttonValue:"+e),this.currentStudent=e,this.setValue()},deleteButton:function(e){for(var t in this.students)console.log("deleting..."),this.students[t][0]==e&&(this.students.splice(t,1),e==this.currentStudent&&(this.editor.setValue("当前会话已关闭"),this.cinEditor.setValue(""),this.coutEditor.setValue("")),console.log("delete success!"),this.updateLogMessage(e+" 断开连接！"))},initSocket:function(){var e=this,t=new WebSocket("ws://ide-ws.hz.ac-code.com/ws/code/"+this.uid+"/");this.websocket=t,this.websocket.onopen=function(t){e.$message.success("WebSocket 连接成功！"),e.startHeartbeat(),e.websocketStatus="Connected",e.statusColor="green",e.updateLogMessage("与服务器连接成功")},this.websocket.onmessage=function(t){if(console.log(t.data),"Heartbeat Checked"!==t.data){var o=JSON.parse(t.data);if(console.log(o),"Close!"===o.message)return console.log("Closing!"),console.log("uid:"+o.uid),void e.deleteButton(o.uid);if("new student link up!"===o.message){console.log("new student link up!");var n={messageType:"codeShare"};n.uid=e.uid;var i={encode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))},decode:function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}};return e.codeShareEditor?(n.codeValue=i.encode(e.codeShareEditor.getValue()),console.log("codeValue in Base64: ",n.codeValue),n.posColumn=e.codeShareEditor.getPosition().column,n.posRow=e.codeShareEditor.getPosition().lineNumber):(n.codeValue="",n.posColumn=0,n.posRow=0),console.log(h()(n)),void e.websocket.send(h()(n))}o=JSON.parse(o.message),console.log(o);var a=o.uid,s=!1;for(var c in 0==e.students.length&&(e.currentStudent=a),e.students)if(e.students[c][0]==a){e.students[c][1]=o.codeValue,e.students[c][2]=o.cinValue,e.students[c][3]=o.coutValue,e.students[c][4]=o.posColumn,e.students[c][5]=o.posRow,console.log(e.students),s=!0,e.setValue();break}0==s&&(e.updateLogMessage(a+" 连接了服务器"),e.students.push([a,o.codeValue,o.cinValue,o.coutValue,o.posColumn,o.posRow]),e.setValue())}else e.resetHeartbeat()},this.websocket.onclose=function(t){console.log(t.code,t.reason,t.wasClean),e.$message.error("WebSocket 连接已断开! "),e.updateLogMessage("与服务器断开！！！"),e.websocketStatus="Closed",e.statusColor="red",e.reconnect()}},reconnect:function(){console.log("reconnecting..."),this.updateLogMessage("正在重连...");var e=this;this.lockReconnect||(this.lockReconnect=!0,this.timeoutnum&&clearTimeout(this.timeoutnum),this.timeoutnum=setTimeout(function(){e.initSocket(),e.lockReconnect=!1},2e3))},startHeartbeat:function(){var e=this,t=1;this.timeoutObj&&clearTimeout(this.timeoutObj),this.serverTimeoutObj&&clearTimeout(this.serverTimeoutObj),this.timeoutObj=setTimeout(function(){1===e.websocket.readyState?e.websocket.send("Heartbeat Check"):(console.log("websocket is disconnected"),e.reconnect()),e.serverTimeoutObj=setTimeout(function(){0===--t&&e.websocket.close()},5e3)},5e3)},resetHeartbeat:function(){clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this.startHeartbeat()}},mounted:function(){this.editor=monaco.editor.create(this.$refs.editor,{value:"//此处显示学生的代码",readOnly:!0,language:"cpp",theme:"vs-light",fontSize:this.fontSize,folding:!0,automaticLayout:!0}),this.cinEditor=monaco.editor.create(this.$refs.cinEditor,{value:"",readOnly:!0,theme:"vs-light",fontSize:12,minimap:{enabled:!1}}),this.coutEditor=monaco.editor.create(this.$refs.coutEditor,{value:"",readOnly:!0,theme:"vs-light",fontSize:12,minimap:{enabled:!1}}),document.getElementById("textField").value="这里是日志消息"},created:function(){var e=this;new u.a(function(t,o){e.$axios.post("/api/codemonitor/",{usertype:"teacher"}).then(function(o){console.log(o.data),e.uid=o.data,t("solved")})}).then(function(t){e.initSocket()})},destroyed:function(){this.websocket.close()}},_={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ide-canvas"},[o("el-drawer",{attrs:{title:"在这里编辑代码",visible:e.codeShare,direction:"rtl",size:"70%"},on:{"update:visible":function(t){e.codeShare=t},open:function(t){return e.initCodeShare()},opened:function(t){return e.buildCodeListener()}}},[o("div",{ref:"codeShareEditor",staticStyle:{width:"100%",height:"100%",float:"left"}})]),e._v(" "),o("div",{staticClass:"header",staticStyle:{width:"100%",height:"5%","background-color":"#ececec",border:"1px solid #ececec"}},[o("div",{staticClass:"editor-tab",staticStyle:{"text-align":"center",float:"left"}},[o("span",{staticStyle:{"font-family":"arial",color:"grey","font-size":"14px"}},[e._v(e._s(e.currentStudent))])]),e._v(" "),o("el-button",{attrs:{type:"text"},on:{click:e.revealCodeShare}},[e._v("向学生共享代码")]),e._v(" "),o("div",{staticClass:"editor-tab",staticStyle:{"text-align":"center",float:"right"}},[o("span",{staticStyle:{"font-family":"arial","font-size":"14px"},style:{color:e.statusColor},attrs:{id:"websocketStatus"}},[e._v("WebSocket: "+e._s(e.websocketStatus))])])],1),e._v(" "),o("div",{staticClass:"main",staticStyle:{width:"100%",height:"95%"}},[o("div",{staticClass:"editor-container",staticStyle:{width:"85%",height:"100%",float:"left"}},[o("div",{staticClass:"code-container",staticStyle:{width:"100%",height:"80%",float:"left"}},[o("div",{ref:"editor",staticStyle:{width:"100%",height:"100%",float:"left"}})]),e._v(" "),o("div",{staticStyle:{width:"100%",height:"20%",float:"left"}},[o("div",{staticClass:"cin-container",staticStyle:{width:"50%",height:"100%",float:"left"}},[o("div",{ref:"cinEditor",staticStyle:{width:"100%",height:"100%",float:"left"}})]),e._v(" "),o("div",{staticClass:"cout-container",staticStyle:{width:"50%",height:"100%",float:"right"}},[o("div",{ref:"coutEditor",staticStyle:{width:"100%",height:"100%",float:"left"}})])])]),e._v(" "),o("div",{staticClass:"editor-container-sidebar",staticStyle:{width:"15%",height:"100%",float:"left","align-items":"center"}},[o("div",{staticClass:"namelist-container",staticStyle:{width:"100%",height:"60%","align-items":"center","overflow-y":"auto"}},e._l(e.students,function(t){return o("div",{key:t[1],staticClass:"namelist",attrs:{student:t[0]}},[o("el-button",{attrs:{round:"",type:"primary"},on:{click:function(o){return e.chooseStudent(t[0])}}},[e._v(e._s(t[0]))])],1)}),0)])])],1)},staticRenderFns:[]};var O=o("VU/8")(T,_,!1,function(e){o("g8Oz")},"data-v-bf755780",null).exports,x={data:function(){return{codeShareEditor:null,codeShare:!1,dialog:!1}},methods:{init:function(){var e=this;console.log("init"),this.$nextTick(function(){console.log("init...",e),e.codeShareEditor=monaco.editor.create(e.$refs.codeShareEditor,{value:"#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void) {\n\n\treturn 0;\n}",readOnly:!0,theme:"vs-light",language:"cpp",fontSize:16}),e.codeShareEditor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_C,function(){return null}),e.codeShareEditor.onDidChangeCursorSelection(function(){var t=e.codeShareEditor.getPosition(),o=t.column,n=t.lineNumber;console.log({column:o,lineNumber:n}),e.codeShareEditor.setPosition({lineNumber:n,column:o})})})},revealCodeShare:function(){console.log("revealCodeShare..."),this.codeShare=!0,console.log(this.codeShareEditor.getValue())},handleClose:function(e){var t=this;this.loading||this.$confirm("确定要提交表单吗？").then(function(o){t.loading=!0,t.timer=setTimeout(function(){e(),setTimeout(function(){t.loading=!1},400)},2e3)}).catch(function(e){})}},mounted:function(){},created:function(){}},z={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ide-canvas"},[o("el-button",{attrs:{type:"text"},on:{click:e.revealCodeShare}},[e._v("查看教师代码分享")]),e._v(" "),o("el-drawer",{attrs:{title:"这里是教师分享的代码",visible:e.codeShare,direction:"rtl",size:"70%"},on:{"update:visible":function(t){e.codeShare=t},open:function(t){return e.init()}}},[o("div",{ref:"codeShareEditor",staticStyle:{width:"100%",height:"100%",float:"left"}})])],1)},staticRenderFns:[]};var R=o("VU/8")(x,z,!1,function(e){o("kFHT")},"data-v-3acdff66",null).exports,M={data:function(){return{codeShareEditor:null,codeShare:!1,dialog:!1}},methods:{init:function(){var e=this;console.log("init"),this.$nextTick(function(){console.log("init...",e),e.codeShareEditor=monaco.editor.create(e.$refs.codeShareEditor,{value:"#include <bits/stdc++.h>\nusing namespace std;\n\nint main(void) {\n\n\treturn 0;\n}",readOnly:!1,theme:"vs-light",language:"cpp",fontSize:16})})},revealCodeShare:function(){console.log("revealCodeShare..."),this.codeShare=!0,console.log(this.codeShareEditor.getValue())},handleClose:function(e){var t=this;this.loading||this.$confirm("确定要提交表单吗？").then(function(o){t.loading=!0,t.timer=setTimeout(function(){e(),setTimeout(function(){t.loading=!1},400)},2e3)}).catch(function(e){})}},mounted:function(){},created:function(){}},N={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ide-canvas"},[o("el-button",{attrs:{type:"text"},on:{click:e.revealCodeShare}},[e._v("向同伴共享代码")]),e._v(" "),o("el-drawer",{attrs:{title:"在这里编辑代码",visible:e.codeShare,direction:"rtl",size:"70%"},on:{"update:visible":function(t){e.codeShare=t},open:function(t){return e.init()}}},[o("div",{ref:"codeShareEditor",staticStyle:{width:"100%",height:"100%",float:"left"}})])],1)},staticRenderFns:[]};var L=o("VU/8")(M,N,!1,function(e){o("WkBk")},"data-v-99751040",null).exports;i.a.use(r.a);var $=new VueRouter({mode:"history",routes:[{path:"/",name:"Monaco",component:S},{path:"/edit",name:"CoEdit",component:V},{path:"/monitor",name:"Monitor",component:O},{path:"/test",name:"Playground",component:R},{path:"/test2",name:"ShowCode",component:L}]}),j=o("OMN4"),P=o.n(j),H=o("l6IN"),F=o.n(H);i.a.use(F.a),i.a.prototype.$axios=P.a,P.a.defaults.xsrfHeaderName="X-CSRFToken",P.a.defaults.xsrfCookieName="csrftoken",i.a.config.productionTip=!1,window.MonacoEnvironment={getWorkerUrl:function(){return D}};var D=URL.createObjectURL(new Blob(["\n    self.MonacoEnvironment = {\n        baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min'\n    };\n    importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min/vs/base/worker/workerMain.min.js');\n"],{type:"text/cpp"}));new i.a({el:"#app",router:$,components:{App:s},template:"<App/>"})},OMN4:function(e,t){e.exports=axios},OkZj:function(e,t){},"R/+A":function(e,t){},VwJk:function(e,t){},WkBk:function(e,t){},XTA7:function(e,t){},byCY:function(e,t){},czDl:function(e,t){},g8Oz:function(e,t){},gCdB:function(e,t){},gvGx:function(e,t){},"jF/U":function(e,t){},kFHT:function(e,t){},l6IN:function(e,t){e.exports=ELEMENT},lRwf:function(e,t){e.exports=Vue},nLHh:function(e,t){},nfAi:function(e,t){},pRNm:function(e,t){e.exports=VueRouter},rc56:function(e,t){},sOVj:function(e,t){},sOjV:function(e,t){},sZ3n:function(e,t){},uHSv:function(e,t){},wzEN:function(e,t){},x33M:function(e,t){}},["NHnr"]);